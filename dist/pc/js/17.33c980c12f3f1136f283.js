webpackJsonp([17],{"2MHE":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"reg",data:function(){return{ruleForm:{mobile:"",newpassword:"",repassword:"",captcha:""},show:!0,count:"",timer:null,repassstatus:!1}},created:function(){},methods:{_SmsSend:function(){var e=this;this.$com.checkPhone(this.ruleForm.mobile)?this.$api.SmsSend(this.ruleForm.mobile,"resetpwd").then(function(t){e.showbtn=!1,1==t.code?(e.send(),e.$com.showToast(t.msg,"success"),e.ruleForm.captcha=t.data):e.$com.showToast(t.msg)}):this.$com.showToast("请输入正确的手机号")},send:function(){var e=this;this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=60?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)},1e3))},gonext:function(){var e=this;this.$com.checkPhone(this.ruleForm.mobile)?""==this.ruleForm.captcha?this.$com.showToast("请输入验证码"):""==this.ruleForm.newpassword?this.$com.showToast("密码不能为空"):""==this.ruleForm.repassword?this.$com.showToast("重复密码不能为空"):this.ruleForm.newpassword.length<6||this.ruleForm.newpassword.length>12?this.$com.showToast("密码长度介于6～12位之间"):this.ruleForm.newpassword!==this.ruleForm.repassword?this.$com.showToast("两次密码不一致"):(this.repassstatus=!0,this.$api.ResetPwd(this.ruleForm.mobile,this.ruleForm.captcha,this.ruleForm.newpassword,this.ruleForm.newpassword).then(function(t){e.repassstatus=!1,1==t.code?(e.$com.showToast(t.msg,"success"),e.backlogin()):e.$com.showToast(t.msg)})):this.$com.showToast("请输入正确的手机号")},backlogin:function(){this.$router.go(-1)},accountinput:function(){this.ruleForm.mobile=this.ruleForm.mobile.replace(/[^\d]/g,"")},captchainput:function(){this.ruleForm.captcha=this.ruleForm.captcha.replace(/[^\d]/g,"")}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_box"},[o("div",{staticClass:"login_head",on:{click:function(t){return e.$router.push("/")}}},[o("img",{attrs:{src:s("OAsy"),alt:""}})]),e._v(" "),o("el-form",{ref:"form",staticClass:"loginform",attrs:{model:e.ruleForm}},[o("div",{staticClass:"logintitle"},[o("div",{staticClass:"account"},[e._v("忘记密码")])]),e._v(" "),o("el-form-item",{attrs:{prop:"mobile"}},[o("el-input",{attrs:{placeholder:"手机号",clearable:"",maxlength:"11",autocomplete:"off"},on:{input:e.accountinput},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"captcha"}},[o("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入验证码",maxlength:"4",autocomplete:"off"},on:{input:e.captchainput},model:{value:e.ruleForm.captcha,callback:function(t){e.$set(e.ruleForm,"captcha",t)},expression:"ruleForm.captcha"}}),e._v(" "),o("el-button",{staticStyle:{width:"28%"},attrs:{icon:"el-icon-mobile-phone",type:"success",disabled:e.disabled=!e.show},on:{click:e._SmsSend}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[e._v("获取验证码")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+" s")])])],1),e._v(" "),o("el-form-item",{attrs:{prop:"newpassword"}},[o("el-input",{attrs:{placeholder:"新密码",type:"password",clearable:"",autocomplete:"off",minlength:"6",maxlength:"12"},model:{value:e.ruleForm.newpassword,callback:function(t){e.$set(e.ruleForm,"newpassword",t)},expression:"ruleForm.newpassword"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"repassword"}},[o("el-input",{attrs:{placeholder:"重复新密码",type:"password",clearable:"",autocomplete:"off",minlength:"6",maxlength:"12"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.gonext(t)}},model:{value:e.ruleForm.repassword,callback:function(t){e.$set(e.ruleForm,"repassword",t)},expression:"ruleForm.repassword"}})],1),e._v(" "),o("el-button",{staticClass:"login_btn",attrs:{loading:e.repassstatus},on:{click:e.gonext}},[e._v("重置密码")]),e._v(" "),o("div",{staticClass:"login_pass",on:{click:e.backlogin}},[e._v("密码登录")])],1)],1)},staticRenderFns:[]};var a=s("C7Lr")(o,r,!1,function(e){s("7Z8m")},"data-v-744caeda",null);t.default=a.exports},"7Z8m":function(e,t){}});