webpackJsonp([36],{"2MHE":function(o,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={name:"reg",data:function(){return{ruleForm:{mobile:"",newpassword:"",repassword:"",captcha:""},show:!0,count:"",timer:null}},created:function(){},methods:{_SmsSend:function(){var o=this;this.$com.checkPhone(this.ruleForm.mobile)?this.$api.SmsSend(this.ruleForm.mobile,"resetpwd").then(function(e){o.showbtn=!1,console.log(e),1==e.code?(o.send(),o.$com.showToast(e.msg,"success"),o.ruleForm.captcha=e.data):o.$com.showToast(e.msg)}):this.$com.showToast("请输入正确的手机号")},send:function(){var o=this;this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){o.count>0&&o.count<=60?o.count--:(o.show=!0,clearInterval(o.timer),o.timer=null)},1e3))},gonext:function(){var o=this;this.$com.checkPhone(this.ruleForm.mobile)?""==this.ruleForm.captcha?this.$com.showToast("请输入验证码"):""==this.ruleForm.newpassword?this.$com.showToast("密码不能为空"):""==this.ruleForm.repassword?this.$com.showToast("重复密码不能为空"):this.ruleForm.password.length<6||this.ruleForm.password>12?this.$com.showToast("密码长度介于6～12位之间"):this.ruleForm.newpassword!==this.ruleForm.repassword?this.$com.showToast("两次密码不一致"):this.$api.ResetPwd(this.ruleForm.mobile,this.ruleForm.captcha,this.ruleForm.newpassword,this.ruleForm.newpassword).then(function(e){1==e.code?(o.$com.showToast(e.msg,"success"),o.backlogin()):o.$com.showToast(e.msg)}):this.$com.showToast("请输入正确的手机号")},backlogin:function(){this.$router.go(-1)}}},r={render:function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"login_box"},[t("div",{staticClass:"login_head",on:{click:function(e){return o.$router.push("/")}}},[t("img",{attrs:{src:s("Z7O8"),alt:""}})]),o._v(" "),t("el-form",{ref:"form",staticClass:"loginform",attrs:{model:o.ruleForm}},[t("div",{staticClass:"logintitle"},[t("div",{staticClass:"account"},[o._v("忘记密码")])]),o._v(" "),t("el-form-item",{attrs:{prop:"mobile"}},[t("el-input",{attrs:{placeholder:"手机号",clearable:"",maxlength:"11",autocomplete:"off"},model:{value:o.ruleForm.mobile,callback:function(e){o.$set(o.ruleForm,"mobile",o._n(e))},expression:"ruleForm.mobile"}})],1),o._v(" "),t("el-form-item",{attrs:{prop:"captcha"}},[t("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入验证码",type:"number",autocomplete:"off"},model:{value:o.ruleForm.captcha,callback:function(e){o.$set(o.ruleForm,"captcha",e)},expression:"ruleForm.captcha"}}),o._v(" "),t("el-button",{staticStyle:{width:"28%"},attrs:{icon:"el-icon-mobile-phone",type:"success",disabled:o.disabled=!o.show},on:{click:o._SmsSend}},[t("span",{directives:[{name:"show",rawName:"v-show",value:o.show,expression:"show"}]},[o._v("获取验证码")]),o._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!o.show,expression:"!show"}],staticClass:"count"},[o._v(o._s(o.count)+" s")])])],1),o._v(" "),t("el-form-item",{attrs:{prop:"newpassword"}},[t("el-input",{attrs:{placeholder:"新密码",type:"password",clearable:"",autocomplete:"off"},model:{value:o.ruleForm.newpassword,callback:function(e){o.$set(o.ruleForm,"newpassword",e)},expression:"ruleForm.newpassword"}})],1),o._v(" "),t("el-form-item",{attrs:{prop:"repassword"}},[t("el-input",{attrs:{placeholder:"重复新密码",type:"password",clearable:"",autocomplete:"off"},model:{value:o.ruleForm.repassword,callback:function(e){o.$set(o.ruleForm,"repassword",e)},expression:"ruleForm.repassword"}})],1),o._v(" "),t("div",{staticClass:"login_btn",on:{click:o.gonext}},[o._v("重置密码")]),o._v(" "),t("div",{staticClass:"login_pass",on:{click:o.backlogin}},[o._v("密码登录")])],1)],1)},staticRenderFns:[]};var a=s("VU/8")(t,r,!1,function(o){s("of3Z")},"data-v-273dd332",null);e.default=a.exports},of3Z:function(o,e){}});