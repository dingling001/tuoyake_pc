webpackJsonp([22],{PkSU:function(t,o){},QlWu:function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e={name:"login",data:function(){return{ruleForm:{account:"",password:""},rules:{}}},created:function(){localStorage.user_tpc&&this.$router.replace("/")},methods:{loginpass:function(){var t=this;console.log(this.$com.checkPhone(this.account)),this.$com.checkPhone(this.account)?""==this.password?this.$com.showToast("请输入密码"):this.$api.Login(this.account,this.password).then(function(o){console.log(o),1==o.code?(t.$com.showToast("登录成功"),localStorage.setItem("user_tpc",o.data.token),setTimeout(function(){var o=decodeURIComponent(t.$route.query.redirect);t.$router.push(o)},2e3)):t.$com.showToast(o.msg)}):this.$com.showToast("请输入正确的手机号")},gocode:function(){this.$router.push({path:"/logincode",query:{redirect:this.$route.query.redirect||"/my"}})}}},a={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"login_box"},[e("div",{staticClass:"login_head",on:{click:function(o){return t.$router.go(-1)}}},[e("img",{attrs:{src:s("Z7O8"),alt:""}})]),t._v(" "),e("el-form",{ref:"ruleForm",staticClass:"loginform",attrs:{model:t.ruleForm,rules:t.rules}},[e("div",{staticClass:"logintitle"},[e("div",{staticClass:"account"},[t._v("账号登录")]),t._v(" "),e("div",{staticClass:"phone_box",on:{click:t.gocode}},[e("span",{staticClass:"iconfont iconyouxiang"}),e("span",[t._v("手机验证码登录")])])]),t._v(" "),e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:t.ruleForm.account,callback:function(o){t.$set(t.ruleForm,"account",o)},expression:"ruleForm.account"}})],1),t._v(" "),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{attrs:{placeholder:"请输入密码",type:"password",clearable:"",autocomplete:""},model:{value:t.ruleForm.password,callback:function(o){t.$set(t.ruleForm,"password",o)},expression:"ruleForm.password"}})],1),t._v(" "),e("div",{staticClass:"btns"},[e("router-link",{attrs:{tag:"span",to:"/forgotpass"}},[t._v("忘记密码?")])],1),t._v(" "),e("div",{staticClass:"login_btn",on:{click:t.loginpass}},[t._v("登录")]),t._v(" "),e("div",{staticClass:"tips"},[e("router-link",{staticClass:"reg",attrs:{to:"/reg",tag:"span"}},[t._v("免费注册")]),t._v(" "),e("span",{staticClass:"iconfont iconjiantou"})],1)],1)],1)},staticRenderFns:[]};var r=s("VU/8")(e,a,!1,function(t){s("PkSU")},"data-v-3f46be2d",null);o.default=r.exports}});