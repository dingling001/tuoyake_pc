webpackJsonp([31],{SL2W:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("rcEL"),a=s("s85o"),l={name:"club",data:function(){return{clublist:[],totalPages:0,per_page:10,city:"",lat:0,lng:0,recommend:0,circle:"",keyword:"",district:"",tabs:[{name:"默认排序",order:"1"},{name:"智能排序",order:"2"},{name:"评分最高",order:"3"}],tab:"",order:1,category_id:"",catelist:[],ind:-1,cshow:!1}},components:{CitySelect:i.a,pcpaging:a.a},created:function(){this.city=this.$com.getCookies("pccity")||"北京",this._Category(),this._ClubIndex()},methods:{_Category:function(){var t=this;this.$api.Category().then(function(e){1==e.code&&(t.catelist=e.data)})},_ClubIndex:function(){var t=this;this.$api.ClubIndex(this.page,this.category_id,this.district||this.$com.getCookies("pccity"),this.keyword).then(function(e){t.cshow=!0,1==e.code&&(t.clublist=e.data.data,t.totalPages=e.data.total/t.per_page)})},allcate:function(t,e){this.category_id=t,this.ind=e,this.page=1,this._ClubIndex()},getPresentPage:function(t){this.page=t,this._ClubIndex()},labeledfn:function(t){this.showlist=!0,this.page=1,this.label=t,this._ClubIndex()},cityareafn:function(t){this.showlist=!0,this.page=1,this.district=t,this._ClubIndex()},removeAll:function(t){this.showlist=!0,this.label="",this.district="",this.page=1,this._ClubIndex()},removecity:function(t){this.showlist=!0,this.district=t,this.page=1,this._ClubIndex()},removelabel:function(t){this.showlist=!0,this.label=t,this.page=1,this._ClubIndex()},allarea:function(t){console.log(t),this.district=t,this.page=1,this._ClubIndex()},alllabel:function(t){console.log(t),this.label=t,this.page=1,this._ClubIndex()},orderby:function(t,e){this.tab=t,this.order=e,this._ClubIndex()},godetail:function(t){this.$router.push({path:"/clubdetail",query:{club_id:t}})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cbox"},[s("city-select",{attrs:{showlabel:!1},on:{removeall:t.removeAll,labeled:t.labeledfn,cityarea:t.cityareafn,removecity:t.removecity,removelabel:t.removelabel,allarea:t.allarea,alllabel:t.alllabel}}),t._v(" "),s("div",{staticClass:"allschool"},[s("span",{class:{activeacate:-1==t.ind},on:{click:function(e){return t.allcate("",-1)}}},[t._v("全部电竞俱乐部")]),t._l(t.catelist,function(e,i){return s("span",{key:i,class:{activeacate:t.ind==i},on:{click:function(s){return t.allcate(e.id,i)}}},[t._v(t._s(e.name))])})],2),t._v(" "),t.cshow&&t.clublist.length?s("div",{staticClass:"jlist"},t._l(t.clublist,function(e,i){return s("div",{key:e.id,staticClass:"jitem van-row--flex",on:{click:function(s){return t.godetail(e.category_id)}}},[s("div",{staticClass:"jimg"},[s("img",{attrs:{src:e.image,alt:""}})]),t._v(" "),s("div",{staticClass:"jright"},[s("div",{staticClass:"jname "},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"jinfo"},[s("span",{staticClass:"name"},[t._v(t._s(e.contact))]),s("span",{staticClass:"tel"},[t._v(t._s(e.contact_number))])]),t._v(" "),s("div",{staticClass:"jaddress "},[t._v(t._s(e.address))]),t._v(" "),s("div",{staticClass:"jaddress van-ellipsis"},[t._v(t._s(e.synopsis))])])])}),0):t._e(),t._v(" "),t.cshow&&0==t.clublist.length?s("div",{staticClass:"jlist"},[s("NoData",{attrs:{text:"暂无电竞俱乐部"}})],1):t._e(),t._v(" "),t.clublist.length&&t.totalPages>t.per_page?s("pcpaging",{staticClass:"pcpaging",attrs:{totalPages:t.totalPages,pageSize:t.per_page,scrollTo:200},on:{presentPage:t.getPresentPage}}):t._e()],1)},staticRenderFns:[]};var c=s("VU/8")(l,n,!1,function(t){s("hs3r")},"data-v-34355ea9",null);e.default=c.exports},hs3r:function(t,e){}});