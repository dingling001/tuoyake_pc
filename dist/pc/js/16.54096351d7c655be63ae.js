webpackJsonp([16],{"1GZp":function(t,o){},QlWu:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s={name:"login",data:function(){return{ruleForm:{account:"",password:""},loginstatus:!1}},created:function(){this.$com.getCookies("user_tpc")&&this.$router.replace("/")},methods:{loginpass:function(){var t=this;this.$com.checkPhone(this.ruleForm.account)?""==this.ruleForm.password?this.$com.showToast("请输入密码"):(this.loginstatus=!0,this.$api.Login(this.ruleForm.account,this.ruleForm.password).then(function(o){t.loginstatus=!1,1==o.code?(t.$com.showToast("登录成功","success"),t.$com.setCookie("user_tpc",o.data.userinfo.token),setTimeout(function(){var o=decodeURIComponent(t.$route.query.redirect||"/");t.$router.push(o)},2e3)):t.$com.showToast(o.msg)})):this.$com.showToast("请输入正确的手机号")},gocode:function(){this.$router.push({path:"/logincode",query:{redirect:this.$route.query.redirect||"/my"}})},accountinput:function(){this.ruleForm.account=this.ruleForm.account.replace(/[^\d]/g,"")}}},r={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"login_box"},[s("div",{staticClass:"login_head",on:{click:function(o){return t.$router.push("/")}}},[s("img",{attrs:{src:e("OAsy"),alt:""}})]),t._v(" "),s("el-form",{ref:"ruleForm",staticClass:"loginform",attrs:{model:t.ruleForm}},[s("div",{staticClass:"logintitle"},[s("div",{staticClass:"account"},[t._v("账号登录")]),t._v(" "),s("div",{staticClass:"phone_box",on:{click:t.gocode}},[s("span",{staticClass:"iconfont iconyouxiang"}),s("span",[t._v("手机验证码登录")])])]),t._v(" "),s("el-form-item",{attrs:{prop:"account"}},[s("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",maxlength:"11",autocomplete:"off"},on:{input:t.accountinput},model:{value:t.ruleForm.account,callback:function(o){t.$set(t.ruleForm,"account","string"==typeof o?o.trim():o)},expression:"ruleForm.account"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码",type:"password",clearable:"",autocomplete:"off",maxlength:"12",minlength:"6"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.loginpass(o)}},model:{value:t.ruleForm.password,callback:function(o){t.$set(t.ruleForm,"password",o)},expression:"ruleForm.password"}})],1),t._v(" "),s("div",{staticClass:"btns"},[s("router-link",{attrs:{tag:"span",to:"/forgotpass"}},[t._v("忘记密码?")])],1),t._v(" "),s("el-button",{staticClass:"login_btn",attrs:{type:"primary",loading:t.loginstatus},on:{click:function(o){return o.stopPropagation(),t.loginpass(o)}}},[t._v("登录")]),t._v(" "),s("div",{staticClass:"tips"},[s("router-link",{staticClass:"reg",attrs:{to:"/reg",tag:"span"}},[t._v("免费注册")]),t._v(" "),s("span",{staticClass:"iconfont iconjiantou"})],1)],1)],1)},staticRenderFns:[]};var n=e("C7Lr")(s,r,!1,function(t){e("1GZp")},"data-v-7794d624",null);o.default=n.exports}});